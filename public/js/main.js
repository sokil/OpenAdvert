/*!
 * Bootstrap v3.0.3 (http://getbootstrap.com)
 * Copyright 2013 Twitter, Inc.
 * Licensed under http://www.apache.org/licenses/LICENSE-2.0
 */
if("undefined"==typeof jQuery){throw new Error("Bootstrap requires jQuery")}+function(d){function c(){var f=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var g in e){if(void 0!==f.style[g]){return{end:e[g]}}}}d.fn.emulateTransitionEnd=function(a){var h=!1,g=this;d(this).one(d.support.transition.end,function(){h=!0});var f=function(){h||d(g).trigger(d.support.transition.end)};return setTimeout(f,a),this},d(function(){d.support.transition=c()})}(jQuery),+function(f){var e='[data-dismiss="alert"]',h=function(a){f(a).on("click",e,this.close)};h.prototype.close=function(a){function l(){i.trigger("closed.bs.alert").remove()}var k=f(this),j=k.attr("data-target");j||(j=k.attr("href"),j=j&&j.replace(/.*(?=#[^\s]*$)/,""));var i=f(j);a&&a.preventDefault(),i.length||(i=k.hasClass("alert")?k:k.parent()),i.trigger(a=f.Event("close.bs.alert")),a.isDefaultPrevented()||(i.removeClass("in"),f.support.transition&&i.hasClass("fade")?i.one(f.support.transition.end,l).emulateTransitionEnd(150):l())};var g=f.fn.alert;f.fn.alert=function(a){return this.each(function(){var c=f(this),b=c.data("bs.alert");b||c.data("bs.alert",b=new h(this)),"string"==typeof a&&b[a].call(c)})},f.fn.alert.Constructor=h,f.fn.alert.noConflict=function(){return f.fn.alert=g,this},f(document).on("click.bs.alert.data-api",e,h.prototype.close)}(jQuery),+function(e){var d=function(b,a){this.$element=e(b),this.options=e.extend({},d.DEFAULTS,a)};d.DEFAULTS={loadingText:"loading..."},d.prototype.setState=function(h){var g="disabled",k=this.$element,j=k.is("input")?"val":"html",i=k.data();h+="Text",i.resetText||k.data("resetText",k[j]()),k[j](i[h]||this.options[h]),setTimeout(function(){"loadingText"==h?k.addClass(g).attr(g,g):k.removeClass(g).removeAttr(g)},0)},d.prototype.toggle=function(){var h=this.$element.closest('[data-toggle="buttons"]'),g=!0;if(h.length){var i=this.$element.find("input");"radio"===i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?g=!1:h.find(".active").removeClass("active")),g&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}g&&this.$element.toggleClass("active")};var f=e.fn.button;e.fn.button=function(a){return this.each(function(){var g=e(this),c=g.data("bs.button"),b="object"==typeof a&&a;c||g.data("bs.button",c=new d(this,b)),"toggle"==a?c.toggle():a&&c.setState(a)})},e.fn.button.Constructor=d,e.fn.button.noConflict=function(){return e.fn.button=f,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(a){var g=e(a.target);g.hasClass("btn")||(g=g.closest(".btn")),g.button("toggle"),a.preventDefault()})}(jQuery),+function(e){var d=function(a,g){this.$element=e(a),this.$indicators=this.$element.find(".carousel-indicators"),this.options=g,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};d.DEFAULTS={interval:5000,pause:"hover",wrap:!0},d.prototype.cycle=function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},d.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},d.prototype.to=function(a){var h=this,g=this.getActiveIndex();return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){h.to(a)}):g==a?this.pause().cycle():this.slide(a>g?"next":"prev",e(this.$items[a]))},d.prototype.pause=function(a){return a||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},d.prototype.next=function(){return this.sliding?void 0:this.slide("next")},d.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},d.prototype.slide=function(r,q){var p=this.$element.find(".item.active"),o=q||p[r](),n=this.interval,m="next"==r?"left":"right",l="next"==r?"first":"last",k=this;if(!o.length){if(!this.options.wrap){return}o=this.$element.find(".item")[l]()}this.sliding=!0,n&&this.pause();var a=e.Event("slide.bs.carousel",{relatedTarget:o[0],direction:m});if(!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var c=e(k.$indicators.children()[k.getActiveIndex()]);c&&c.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(a),a.isDefaultPrevented()){return}o.addClass(r),o[0].offsetWidth,p.addClass(m),o.addClass(m),p.one(e.support.transition.end,function(){o.removeClass([r,m].join(" ")).addClass("active"),p.removeClass(["active",m].join(" ")),k.sliding=!1,setTimeout(function(){k.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(a),a.isDefaultPrevented()){return}p.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return n&&this.cycle(),this}};var f=e.fn.carousel;e.fn.carousel=function(a){return this.each(function(){var i=e(this),h=i.data("bs.carousel"),c=e.extend({},d.DEFAULTS,i.data(),"object"==typeof a&&a),b="string"==typeof a?a:c.slide;h||i.data("bs.carousel",h=new d(this,c)),"number"==typeof a?h.to(a):b?h[b]():c.interval&&h.pause().cycle()})},e.fn.carousel.Constructor=d,e.fn.carousel.noConflict=function(){return e.fn.carousel=f,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(a){var l,k=e(this),j=e(k.attr("data-target")||(l=k.attr("href"))&&l.replace(/.*(?=#[^\s]+$)/,"")),i=e.extend({},j.data(),k.data()),h=k.attr("data-slide-to");h&&(i.interval=!1),j.carousel(i),(h=k.attr("data-slide-to"))&&j.data("bs.carousel").to(h),a.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var a=e(this);a.carousel(a.data())})})}(jQuery),+function(e){var d=function(b,a){this.$element=e(b),this.options=e.extend({},d.DEFAULTS,a),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var b=this.$element.hasClass("width");return b?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var a=e.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var l=this.$parent&&this.$parent.find("> .panel > .in");if(l&&l.length){var k=l.data("bs.collapse");if(k&&k.transitioning){return}l.collapse("hide"),k||l.data("bs.collapse",null)}var j=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[j](0),this.transitioning=1;var i=function(){this.$element.removeClass("collapsing").addClass("in")[j]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition){return i.call(this)}var h=e.camelCase(["scroll",j].join("-"));this.$element.one(e.support.transition.end,e.proxy(i,this)).emulateTransitionEnd(350)[j](this.$element[0][h])}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var a=e.Event("hide.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var h=this.dimension();this.$element[h](this.$element[h]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var g=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?(this.$element[h](0).one(e.support.transition.end,e.proxy(g,this)).emulateTransitionEnd(350),void 0):g.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var f=e.fn.collapse;e.fn.collapse=function(a){return this.each(function(){var g=e(this),c=g.data("bs.collapse"),b=e.extend({},d.DEFAULTS,g.data(),"object"==typeof a&&a);c||g.data("bs.collapse",c=new d(this,b)),"string"==typeof a&&c[a]()})},e.fn.collapse.Constructor=d,e.fn.collapse.noConflict=function(){return e.fn.collapse=f,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(r){var q,p=e(this),o=p.attr("data-target")||r.preventDefault()||(q=p.attr("href"))&&q.replace(/.*(?=#[^\s]+$)/,""),n=e(o),m=n.data("bs.collapse"),l=m?"toggle":p.data(),k=p.attr("data-parent"),a=k&&e(k);m&&m.transitioning||(a&&a.find('[data-toggle=collapse][data-parent="'+k+'"]').not(p).addClass("collapsed"),p[n.hasClass("in")?"addClass":"removeClass"]("collapsed")),n.collapse(l)})}(jQuery),+function(i){function h(){i(m).remove(),i(l).each(function(a){var c=n(i(this));c.hasClass("open")&&(c.trigger(a=i.Event("hide.bs.dropdown")),a.isDefaultPrevented()||c.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(a){var f=a.attr("data-target");f||(f=a.attr("href"),f=f&&/#/.test(f)&&f.replace(/.*(?=#[^\s]*$)/,""));var e=f&&i(f);return e&&e.length?e:a.parent()}var m=".dropdown-backdrop",l="[data-toggle=dropdown]",k=function(a){i(a).on("click.bs.dropdown",this.toggle)};k.prototype.toggle=function(o){var c=i(this);if(!c.is(".disabled, :disabled")){var b=n(c),a=b.hasClass("open");if(h(),!a){if("ontouchstart" in document.documentElement&&!b.closest(".navbar-nav").length&&i('<div class="dropdown-backdrop"/>').insertAfter(i(this)).on("click",h),b.trigger(o=i.Event("show.bs.dropdown")),o.isDefaultPrevented()){return}b.toggleClass("open").trigger("shown.bs.dropdown"),c.focus()}return !1}},k.prototype.keydown=function(a){if(/(38|40|27)/.test(a.keyCode)){var q=i(this);if(a.preventDefault(),a.stopPropagation(),!q.is(".disabled, :disabled")){var p=n(q),o=p.hasClass("open");if(!o||o&&27==a.keyCode){return 27==a.which&&p.find(l).focus(),q.click()}var e=i("[role=menu] li:not(.divider):visible a",p);if(e.length){var c=e.index(e.filter(":focus"));38==a.keyCode&&c>0&&c--,40==a.keyCode&&c<e.length-1&&c++,~c||(c=0),e.eq(c).focus()}}}};var j=i.fn.dropdown;i.fn.dropdown=function(a){return this.each(function(){var e=i(this),b=e.data("bs.dropdown");b||e.data("bs.dropdown",b=new k(this)),"string"==typeof a&&b[a].call(e)})},i.fn.dropdown.Constructor=k,i.fn.dropdown.noConflict=function(){return i.fn.dropdown=j,this},i(document).on("click.bs.dropdown.data-api",h).on("click.bs.dropdown.data-api",".dropdown form",function(b){b.stopPropagation()}).on("click.bs.dropdown.data-api",l,k.prototype.toggle).on("keydown.bs.dropdown.data-api",l+", [role=menu]",k.prototype.keydown)}(jQuery),+function(e){var d=function(a,g){this.options=g,this.$element=e(a),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};d.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},d.prototype.toggle=function(b){return this[this.isShown?"hide":"show"](b)},d.prototype.show=function(a){var h=this,g=e.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(g),this.isShown||g.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var c=e.support.transition&&h.$element.hasClass("fade");h.$element.parent().length||h.$element.appendTo(document.body),h.$element.show(),c&&h.$element[0].offsetWidth,h.$element.addClass("in").attr("aria-hidden",!1),h.enforceFocus();var b=e.Event("shown.bs.modal",{relatedTarget:a});c?h.$element.find(".modal-dialog").one(e.support.transition.end,function(){h.$element.focus().trigger(b)}).emulateTransitionEnd(300):h.$element.focus().trigger(b)}))},d.prototype.hide=function(a){a&&a.preventDefault(),a=e.Event("hide.bs.modal"),this.$element.trigger(a),this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},d.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(b){this.$element[0]===b.target||this.$element.has(b.target).length||this.$element.focus()},this))},d.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(b){27==b.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},d.prototype.hideModal=function(){var b=this;this.$element.hide(),this.backdrop(function(){b.removeBackdrop(),b.$element.trigger("hidden.bs.modal")})},d.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},d.prototype.backdrop=function(a){var h=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var g=e.support.transition&&h;if(this.$backdrop=e('<div class="modal-backdrop '+h+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",e.proxy(function(b){b.target===b.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),g&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!a){return}g?this.$backdrop.one(e.support.transition.end,a).emulateTransitionEnd(150):a()}else{!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,a).emulateTransitionEnd(150):a()):a&&a()}};var f=e.fn.modal;e.fn.modal=function(b,a){return this.each(function(){var i=e(this),h=i.data("bs.modal"),c=e.extend({},d.DEFAULTS,i.data(),"object"==typeof b&&b);h||i.data("bs.modal",h=new d(this,c)),"string"==typeof b?h[b](a):c.show&&h.show(a)})},e.fn.modal.Constructor=d,e.fn.modal.noConflict=function(){return e.fn.modal=f,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var j=e(this),i=j.attr("href"),h=e(j.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),g=h.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},h.data(),j.data());a.preventDefault(),h.modal(g,this).one("hide",function(){j.is(":visible")&&j.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(jQuery),+function(e){var d=function(g,c){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",g,c)};d.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},d.prototype.init=function(a,p,o){this.enabled=!0,this.type=a,this.$element=e(p),this.options=this.getOptions(o);for(var n=this.options.trigger.split(" "),m=n.length;m--;){var l=n[m];if("click"==l){this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this))}else{if("manual"!=l){var k="hover"==l?"mouseenter":"focus",j="hover"==l?"mouseleave":"blur";this.$element.on(k+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(j+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},d.prototype.getDefaults=function(){return d.DEFAULTS},d.prototype.getOptions=function(a){return a=e.extend({},this.getDefaults(),this.$element.data(),a),a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a},d.prototype.getDelegateOptions=function(){var a={},g=this.getDefaults();return this._options&&e.each(this._options,function(b,c){g[b]!=c&&(a[b]=c)}),a},d.prototype.enter=function(a){var g=a instanceof this.constructor?a:e(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(g.timeout),g.hoverState="in",g.options.delay&&g.options.delay.show?(g.timeout=setTimeout(function(){"in"==g.hoverState&&g.show()},g.options.delay.show),void 0):g.show()},d.prototype.leave=function(a){var g=a instanceof this.constructor?a:e(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(g.timeout),g.hoverState="out",g.options.delay&&g.options.delay.hide?(g.timeout=setTimeout(function(){"out"==g.hoverState&&g.hide()},g.options.delay.hide),void 0):g.hide()},d.prototype.show=function(){var D=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(D),D.isDefaultPrevented()){return}var C=this.tip();this.setContent(),this.options.animation&&C.addClass("fade");var B="function"==typeof this.options.placement?this.options.placement.call(this,C[0],this.$element[0]):this.options.placement,A=/\s?auto?\s?/i,z=A.test(B);z&&(B=B.replace(A,"")||"top"),C.detach().css({top:0,left:0,display:"block"}).addClass(B),this.options.container?C.appendTo(this.options.container):C.insertAfter(this.$element);var y=this.getPosition(),x=C[0].offsetWidth,w=C[0].offsetHeight;if(z){var v=this.$element.parent(),u=B,t=document.documentElement.scrollTop||document.body.scrollTop,s="body"==this.options.container?window.innerWidth:v.outerWidth(),r="body"==this.options.container?window.innerHeight:v.outerHeight(),q="body"==this.options.container?0:v.offset().left;B="bottom"==B&&y.top+y.height+w-t>r?"top":"top"==B&&y.top-t-w<0?"bottom":"right"==B&&y.right+x>s?"left":"left"==B&&y.left-x<q?"right":B,C.removeClass(u).addClass(B)}var a=this.getCalculatedOffset(B,y,x,w);this.applyPlacement(a,B),this.$element.trigger("shown.bs."+this.type)}},d.prototype.applyPlacement=function(v,u){var t,s=this.tip(),r=s[0].offsetWidth,q=s[0].offsetHeight,p=parseInt(s.css("margin-top"),10),o=parseInt(s.css("margin-left"),10);isNaN(p)&&(p=0),isNaN(o)&&(o=0),v.top=v.top+p,v.left=v.left+o,s.offset(v).addClass("in");var n=s[0].offsetWidth,m=s[0].offsetHeight;if("top"==u&&m!=q&&(t=!0,v.top=v.top+q-m),/bottom|top/.test(u)){var l=0;v.left<0&&(l=-2*v.left,v.left=0,s.offset(v),n=s[0].offsetWidth,m=s[0].offsetHeight),this.replaceArrow(l-r+n,n,"left")}else{this.replaceArrow(m-q,m,"top")}t&&s.offset(v)},d.prototype.replaceArrow=function(h,g,i){this.arrow().css(i,h?50*(1-h/g)+"%":"")},d.prototype.setContent=function(){var g=this.tip(),c=this.getTitle();g.find(".tooltip-inner")[this.options.html?"html":"text"](c),g.removeClass("fade in top bottom left right")},d.prototype.hide=function(){function a(){"in"!=i.hoverState&&h.detach()}var i=this,h=this.tip(),g=e.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(h.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?h.one(e.support.transition.end,a).emulateTransitionEnd(150):a(),this.$element.trigger("hidden.bs."+this.type),this)},d.prototype.fixTitle=function(){var b=this.$element;(b.attr("title")||"string"!=typeof b.attr("data-original-title"))&&b.attr("data-original-title",b.attr("title")||"").attr("title","")},d.prototype.hasContent=function(){return this.getTitle()},d.prototype.getPosition=function(){var a=this.$element[0];return e.extend({},"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():{width:a.offsetWidth,height:a.offsetHeight},this.$element.offset())},d.prototype.getCalculatedOffset=function(h,g,j,i){return"bottom"==h?{top:g.top+g.height,left:g.left+g.width/2-j/2}:"top"==h?{top:g.top-i,left:g.left+g.width/2-j/2}:"left"==h?{top:g.top+g.height/2-i/2,left:g.left-j}:{top:g.top+g.height/2-i/2,left:g.left+g.width}},d.prototype.getTitle=function(){var h,g=this.$element,i=this.options;return h=g.attr("data-original-title")||("function"==typeof i.title?i.title.call(g[0]):i.title)},d.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},d.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},d.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},d.prototype.enable=function(){this.enabled=!0},d.prototype.disable=function(){this.enabled=!1},d.prototype.toggleEnabled=function(){this.enabled=!this.enabled},d.prototype.toggle=function(a){var g=a?e(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;g.tip().hasClass("in")?g.leave(g):g.enter(g)},d.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var f=e.fn.tooltip;e.fn.tooltip=function(a){return this.each(function(){var g=e(this),c=g.data("bs.tooltip"),b="object"==typeof a&&a;c||g.data("bs.tooltip",c=new d(this,b)),"string"==typeof a&&c[a]()})},e.fn.tooltip.Constructor=d,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=f,this}}(jQuery),+function(e){var d=function(g,c){this.init("popover",g,c)};if(!e.fn.tooltip){throw new Error("Popover requires tooltip.js")}d.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),d.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),d.prototype.constructor=d,d.prototype.getDefaults=function(){return d.DEFAULTS},d.prototype.setContent=function(){var h=this.tip(),g=this.getTitle(),i=this.getContent();h.find(".popover-title")[this.options.html?"html":"text"](g),h.find(".popover-content")[this.options.html?"html":"text"](i),h.removeClass("fade top bottom left right in"),h.find(".popover-title").html()||h.find(".popover-title").hide()},d.prototype.hasContent=function(){return this.getTitle()||this.getContent()},d.prototype.getContent=function(){var g=this.$element,c=this.options;return g.attr("data-content")||("function"==typeof c.content?c.content.call(g[0]):c.content)},d.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},d.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var f=e.fn.popover;e.fn.popover=function(a){return this.each(function(){var g=e(this),c=g.data("bs.popover"),b="object"==typeof a&&a;c||g.data("bs.popover",c=new d(this,b)),"string"==typeof a&&c[a]()})},e.fn.popover.Constructor=d,e.fn.popover.noConflict=function(){return e.fn.popover=f,this}}(jQuery),+function(e){function d(h,g){var b,a=e.proxy(this.process,this);this.$element=e(h).is("body")?e(window):e(h),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",a),this.options=e.extend({},d.DEFAULTS,g),this.selector=(this.options.target||(b=e(h).attr("href"))&&b.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}d.DEFAULTS={offset:10},d.prototype.refresh=function(){var a=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);var g=this;this.$body.find(this.selector).map(function(){var h=e(this),c=h.data("target")||h.attr("href"),b=/^#\w/.test(c)&&e(c);return b&&b.length&&[[b[a]().top+(!e.isWindow(g.$scrollElement.get(0))&&g.$scrollElement.scrollTop()),c]]||null}).sort(function(h,c){return h[0]-c[0]}).each(function(){g.offsets.push(this[0]),g.targets.push(this[1])})},d.prototype.process=function(){var i,h=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,m=n-this.$scrollElement.height(),l=this.offsets,k=this.targets,j=this.activeTarget;if(h>=m){return j!=(i=k.last()[0])&&this.activate(i)}for(i=l.length;i--;){j!=k[i]&&h>=l[i]&&(!l[i+1]||h<=l[i+1])&&this.activate(k[i])}},d.prototype.activate=function(a){this.activeTarget=a,e(this.selector).parents(".active").removeClass("active");var h=this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]',g=e(h).parents("li").addClass("active");g.parent(".dropdown-menu").length&&(g=g.closest("li.dropdown").addClass("active")),g.trigger("activate.bs.scrollspy")};var f=e.fn.scrollspy;e.fn.scrollspy=function(a){return this.each(function(){var g=e(this),c=g.data("bs.scrollspy"),b="object"==typeof a&&a;c||g.data("bs.scrollspy",c=new d(this,b)),"string"==typeof a&&c[a]()})},e.fn.scrollspy.Constructor=d,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=f,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var a=e(this);a.scrollspy(a.data())})})}(jQuery),+function(e){var d=function(a){this.element=e(a)};d.prototype.show=function(){var a=this.element,l=a.closest("ul:not(.dropdown-menu)"),k=a.data("target");if(k||(k=a.attr("href"),k=k&&k.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var j=l.find(".active:last a")[0],i=e.Event("show.bs.tab",{relatedTarget:j});if(a.trigger(i),!i.isDefaultPrevented()){var h=e(k);this.activate(a.parent("li"),l),this.activate(h,h.parent(),function(){a.trigger({type:"shown.bs.tab",relatedTarget:j})})}}},d.prototype.activate=function(a,l,k){function j(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),a.addClass("active"),h?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu")&&a.closest("li.dropdown").addClass("active"),k&&k()}var i=l.find("> .active"),h=k&&e.support.transition&&i.hasClass("fade");h?i.one(e.support.transition.end,j).emulateTransitionEnd(150):j(),i.removeClass("in")};var f=e.fn.tab;e.fn.tab=function(a){return this.each(function(){var c=e(this),b=c.data("bs.tab");b||c.data("bs.tab",b=new d(this)),"string"==typeof a&&b[a]()})},e.fn.tab.Constructor=d,e.fn.tab.noConflict=function(){return e.fn.tab=f,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(a){a.preventDefault(),e(this).tab("show")})}(jQuery),+function(e){var d=function(b,a){this.options=e.extend({},d.DEFAULTS,a),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(b),this.affixed=this.unpin=null,this.checkPosition()};d.RESET="affix affix-top affix-bottom",d.DEFAULTS={offset:0},d.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},d.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=e(document).height(),m=this.$window.scrollTop(),l=this.$element.offset(),k=this.options.offset,j=k.top,b=k.bottom;"object"!=typeof k&&(b=j=k),"function"==typeof j&&(j=k.top()),"function"==typeof b&&(b=k.bottom());var a=null!=this.unpin&&m+this.unpin<=l.top?!1:null!=b&&l.top+this.$element.height()>=n-b?"bottom":null!=j&&j>=m?"top":!1;this.affixed!==a&&(this.unpin&&this.$element.css("top",""),this.affixed=a,this.unpin="bottom"==a?l.top-m:null,this.$element.removeClass(d.RESET).addClass("affix"+(a?"-"+a:"")),"bottom"==a&&this.$element.offset({top:document.body.offsetHeight-b-this.$element.height()}))}};var f=e.fn.affix;e.fn.affix=function(a){return this.each(function(){var g=e(this),c=g.data("bs.affix"),b="object"==typeof a&&a;c||g.data("bs.affix",c=new d(this,b)),"string"==typeof a&&c[a]()})},e.fn.affix.Constructor=d,e.fn.affix.noConflict=function(){return e.fn.affix=f,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var a=e(this),g=a.data();g.offset=g.offset||{},g.offsetBottom&&(g.offset.bottom=g.offsetBottom),g.offsetTop&&(g.offset.top=g.offsetTop),a.affix(g)})})}(jQuery);function merge(){var a={},c;for(var b=0;b<arguments.length;b++){for(c in arguments[b]){a[c]=arguments[b][c]}}return a}function extend(c,a){var b=function(){};b.prototype=merge(a.prototype,c.prototype);c.prototype=new b();c.prototype.constructor=c;c.parent=a.prototype}var i18n=function(a){this._messages=a||{};this.addMessages=function(b){this._messages=$.extend({},this._messages,b)};this.getMessage=function(b){return this._messages[b]||b}};var TemplateEngine=function(){this.compile=function(a){return{render:function(c){var d=a;for(var b in c){d=d.replace(new RegExp("{{"+b+"}}","g"),c[b])}return d}}}};$.fn.tableButtons=function(b){var a=$(this),b=$.extend({},{deleteSignature:"delete",activateSignature:"activate",},b||{});var c=new i18n(b.messages);a.on("click",".status",function(f){f.preventDefault();var d=$(this);d.find(".glyphicon").removeClass("glyphicon-play glyphicon-pause").addClass("glyphicon-refresh");$.get(d.attr("href"),function(e){if(1===e.error){alert(e.errorMessage);return}if(d.hasClass("active")){d.attr("href",d.attr("href").replace("suspend","activate"));d.removeClass("active").addClass("suspended");d.find(".glyphicon").removeClass("glyphicon-refresh").addClass("glyphicon-pause")}else{d.attr("href",d.attr("href").replace("activate","suspend"));d.removeClass("suspended").addClass("active");d.find(".glyphicon").removeClass("glyphicon-refresh").addClass("glyphicon-play")}})});a.on("click",".delete",function(g){g.preventDefault();var f=$(this),d=f.closest("TR");if(!d.hasClass("deleted")){$.get(f.attr("href"),function(e){if(1===e.error){alert(e.errorMessage);return}f.attr("href",f.attr("href").replace(b.deleteSignature,b.activateSignature));f.find(".glyphicon").removeClass("glyphicon-trash").addClass("glyphicon-refresh");d.addClass("deleted")})}else{$.get(f.attr("href"),function(e){if(1===e.error){alert(e.errorMessage);return}f.attr("href",f.attr("href").replace(b.activateSignature,b.deleteSignature));f.find(".glyphicon").removeClass("glyphicon-refresh").addClass("glyphicon-trash");d.removeClass("deleted")})}})};(function(){window.Url=function(b){return new a(b)};var a=function(b){this._url=b};a.prototype={_url:null,_merge:function(){var b={},d;for(var c=0;c<arguments.length;c++){for(d in arguments[c]){if(b[d]&&typeof arguments[c][d]==="object"){b[d]=this._merge(b[d],arguments[c][d])}else{b[d]=arguments[c][d]}}}return b},_queryStringToArray:function(d){var e={},m=d.split("&"),o={};for(var k in m){var q=m[k].split("="),n=q[0],g=q[1];var f=n.match(/([^=&]+?)\[(.*)\]/);if(f){var l=f[1],c=f[2].split("][");if(!e[l]){e[l]={};o[l]={}}var b=e[l];for(var h=0;h<c.length;h++){var p=c[h];if(!p){if(h===0){if(!o[l][h]){o[l][h]=0}p=o[l][h]++}else{p=0}}if(h===c.length-1){b[p]=g}else{if(!b[p]){b[p]={}}b=b[p]}}}else{e[n]=g}}return e},_queryArrayToString:function(g,d){var f=[];for(var c in g){var e=g[c];var b;if(d){b=d+"["+c+"]"}else{b=c}if(typeof e==="object"){f.push(this._queryArrayToString(e,b))}else{f.push(b+"="+e)}}return f.join("&")},merge:function(e){if(!e){return this}var b,c,d=this._url.indexOf("?");if(d>0){c=this._queryStringToArray(this._url.substr(d+1));b=this._url.substr(0,d)}else{c={};b=this._url}if("object"!==typeof e){e=this._queryStringToArray(e)}c=this._merge(c,e);this._url=b+"?"+this._queryArrayToString(c);return this},toString:function(){return this._url}}})();(function(){var a=function(d,c){var b=this;this.form=d;this.events={beforeSubmit:[],success:[]};if(!c){c={}}this.options=$.extend({},{statusSelector:".status",showErrorDescription:true,errorDescriptionMode:"text",preloaderCssClass:"prel",modelToFormFieldName:function(e){return e},onBeforeSubmit:null,onSuccess:null},c);if(c.onBeforeSubmit){this.onBeforeSubmit(c.onBeforeSubmit)}if(c.onSuccess){this.onSuccess(c.onSuccess)}d.submit(function(f){f.preventDefault();$(".form-group.has-error",d).removeClass("has-error");$(".form-group .text-danger",d).remove();if(!b.trigger("beforeSubmit")){return}$(b.options.statusSelector,d).html("&nbsp;").addClass(b.options.preloaderCssClass);$.post(d.attr("action"),d.serialize(),function(g){$(b.options.statusSelector,d).removeClass(b.options.preloaderCssClass);if(1===g.error){b.setStatus(g.errorMessage,null,"alert alert-danger");var e,k;if(g.invalidated){for(var i in g.invalidated){k=g.invalidated[i];var j=$("*[name="+b.options.modelToFormFieldName(i)+"]",d),e=[];for(var h in k){e.push(k[h])}j.closest(".form-group").addClass("has-error");if(b.options.showErrorDescription){if(b.options.errorDescription==="toolbox"){j.tooltip({title:e.join(", "),placement:"top",trigger:"manual"}).tooltip("show").keypress(function(){j.tooltip("destroy");j.closest(".form-group").removeClass("has-error")})}else{$('<div class="text-danger"></div>').text(e.join(", ")).insertAfter(j);j.keypress(function(){j.next(".text-danger").remove();j.closest(".form-group").removeClass("has-error")})}}}}return}if("successMessage" in g){b.setStatus(g.successMessage,5,"alert alert-success")}b.trigger("success",d,g)},"json")})};a.prototype={trigger:function(e,d,g){var b=this,d=d||b;if(b.events[e].length===0){return true}var f=true;for(var c=0;c<b.events[e].length;c++){if(false===b.events[e][c].call(d,g)){f=false}}return f},onBeforeSubmit:function(b){if("function"===typeof b){this.events.beforeSubmit.push(b)}},onSuccess:function(b){if("function"===typeof b){this.events.success.push(b)}},setStatus:function(e,c,b){var d=$(this.options.statusSelector,this.form);if(0===d.length){d=$('<span class="status"></span>').insertAfter(this.form.find("input[type=submit]"))}d.html(e).show().removeClass().addClass("status");if(b){d.addClass(b)}if(!c){return this}setTimeout(function(){d.fadeOut()},c*1000);return this}};$.fn.form=function(){var e=this;if(arguments.length===0||typeof arguments[0]==="object"){var d=new a(e,arguments.length===0?null:arguments[0]);e.data("instance",d)}else{var d=e.data("instance");if(arguments[0]==="isInitialized"){return !!e.data("instance")}var c=arguments[0],d=e.data("instance"),b=d[c];if(arguments.length===1){b.call(d)}else{b.apply(d,Array.prototype.slice.call(arguments,1))}}return this}})();(function(){window.modal=function(b,f){var e=$(b),g=e.data("modal-id"),f=$.extend({},{replaceEntireModal:true},f);if(!g){g="modal-"+Math.round(Math.random()*(new Date()).getTime());e.attr("data-target","#"+g);var d=$('<div class="modal fade" role="dialog" aria-hidden="true" />').attr("id",g).attr("aria-labelledby",g).appendTo(document.body);if(!f.replaceEntireModal){d.append($('<div class="modal-dialog"/>').append($('<div class="modal-content">').append([$("<div/>").addClass("modal-header").append([$('<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>'),$('<h4 class="modal-title">'+(e.attr("title")||"&nbsp;")+"</h4>")]),$("<div/>").addClass("modal-body"),$("<div/>").addClass("modal-footer")])))}if(typeof f==="object"){for(var c in f){switch(c){case"hide":case"hidden":case"show":case"shown":d.on(c,f[c]);break}}}}else{var d=$("#"+g)}$.get(e.attr("href"),function(a){if(f.replaceEntireModal){d.modal({remote:e.attr("href")})}else{d.find(".modal-body").html(a);d.modal()}})}})();(function(b){function a(){var e=new Date(this.toString()),f=28,c=e.getMonth();while(e.getMonth()==c){++f;e.setDate(f)}return f-1}b.addDays=function(c){this.setDate(this.getDate()+c)};b.addMonths=function(d){var c=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+d);this.setDate(Math.min(c,a.apply(this)))};b.addYears=function(d){var c=this.getDate();this.setDate(1);this.setFullYear(this.getFullYear()+d);this.setDate(Math.min(c,a.apply(this)))};b.getDayOfYear=function(){var c=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var e=new Date(this.getFullYear(),0,0,0,0,0);var d=c-e;return Math.floor(d/24*60*60*1000)}})(Date.prototype);(function(c){c.pickmeup=c.extend(c.pickmeup||{},{date:new Date,flat:false,first_day:1,prev:"&#9664;",next:"&#9654;",mode:"single",select_year:true,select_month:true,view:"days",calendars:1,format:"d-m-Y",position:"bottom",trigger_event:"click",class_name:"",separator:" - ",hide_on_select:false,min:null,max:null,render:function(){},change:function(){return true},before_show:function(){return true},show:function(){return true},hide:function(){return true},fill:function(){return true},locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}});var l={years:"pmu-view-years",months:"pmu-view-months",days:"pmu-view-days"},f={wrapper:'<div class="pickmeup" />',head:function(r){var p="";for(var q=0;q<7;++q){p+="<div>"+r.day[q]+"</div>"}return'<div class="pmu-instance"><nav><div class="pmu-prev pmu-button">'+r.prev+'</div><div class="pmu-month pmu-button" /><div class="pmu-next pmu-button">'+r.next+'</div></nav><nav class="pmu-day-of-week">'+p+"</nav></div>"},days:function(r){var p="";for(var q=0;q<42;++q){p+='<div class="'+r[q].class_name+' pmu-button">'+r[q].text+"</div>"}return'<div class="pmu-days">'+p+"</div>"},months:function(r){var p="";for(var q=0;q<12;++q){p+='<div class="pmu-button">'+r.data[q]+"</div>"}return'<div class="'+r.class_name+'">'+p+"</div>"}};function m(){var p=c(this).data("pickmeup-options"),A=this.pickmeup,D=Math.floor(p.calendars/2),E,G,y,v,x,F,t=0,s,u,B,C=(new Date).setHours(0,0,0,0).valueOf();A.find(".pmu-instance > :not(nav)").remove();for(var z=0;z<p.calendars;z++){E=new Date(p.current);B=A.find(".pmu-instance").eq(z);if(A.hasClass("pmu-view-years")){E.addYears((z-D)*12);y=(E.getFullYear()-6)+" - "+(E.getFullYear()+5)}else{if(A.hasClass("pmu-view-months")){E.addYears(z-D);y=E.getFullYear()}else{if(A.hasClass("pmu-view-days")){E.addMonths(z-D);y=o(E,"B, Y",p.locale)}}}B.find(".pmu-month").text(y);v=E.getFullYear()-6;G={data:[],class_name:"pmu-years"};for(var w=0;w<12;w++){G.data.push(v+w)}u=f.months(G);E.setDate(1);G=[];F=E.getMonth();x=(E.getDay()-p.first_day)%7;E.addDays(-(x+(x<0?7:0)));t=0;while(t<42){x={text:E.getDate(),class_name:[]};if(F!=E.getMonth()){x.class_name.push("pmu-not-in-month")}if(E.getDay()==0){x.class_name.push("pmu-sunday")}else{if(E.getDay()==6){x.class_name.push("pmu-saturday")}}var r=p.render(E)||{},H=E.valueOf(),q=(p.min&&p.min>E)||(p.max&&p.max<E);if(!q&&(r.selected||p.date==H||c.inArray(H,p.date)>-1||(p.mode=="range"&&H>=p.date[0]&&H<=p.date[1]))){x.class_name.push("pmu-selected")}if(H==C){x.class_name.push("pmu-today")}if(r.disabled||q){x.class_name.push("pmu-disabled")}if(r.class_name){x.class_name.push(r.class_name)}x.class_name=x.class_name.join(" ");G.push(x);E.addDays(1);t++}u=f.days(G)+u;G={data:p.locale.monthsShort,class_name:"pmu-months"};u=f.months(G)+u;B.append(u)}p.fill.apply(this)}function a(q,C,x){if(q.constructor==Date){return q}else{if(!q){return new Date}}var A=q.split(x);if(A.length>1){A.forEach(function(D,y,E){E[y]=a(D,C,x)});return A}var u=q.split(/\W+/),r=C.split(/\W+/),z,s,B,w,t,p=new Date();for(var v=0;v<u.length;v++){switch(r[v]){case"d":case"e":z=parseInt(u[v],10);break;case"m":s=parseInt(u[v],10)-1;break;case"Y":case"y":B=parseInt(u[v],10);B+=B>100?0:(B<29?2000:1900);break;case"H":case"I":case"k":case"l":w=parseInt(u[v],10);break;case"P":case"p":if(/pm/i.test(u[v])&&w<12){w+=12}else{if(/am/i.test(u[v])&&w>=12){w-=12}}break;case"M":t=parseInt(u[v],10);break}}return new Date(B===undefined?p.getFullYear():B,s===undefined?p.getMonth():s,z===undefined?p.getDate():z,w===undefined?p.getHours():w,t===undefined?p.getMinutes():t,0)}function o(q,E,D){var r=q.getMonth();var B=q.getDate();var C=q.getFullYear();var F=q.getDay();var I={};var G=q.getHours();var t=(G>=12);var z=(t)?(G-12):G;var H=q.getDayOfYear();if(z==0){z=12}var v=q.getMinutes();var A=q.getSeconds();var u=E.split(""),p;for(var x=0;x<u.length;x++){p=u[x];switch(p){case"a":p=D.daysShort[F];break;case"A":p=D.days[F];break;case"b":p=D.monthsShort[r];break;case"B":p=D.months[r];break;case"C":p=1+Math.floor(C/100);break;case"d":p=(B<10)?("0"+B):B;break;case"e":p=B;break;case"H":p=(G<10)?("0"+G):G;break;case"I":p=(z<10)?("0"+z):z;break;case"j":p=(H<100)?((H<10)?("00"+H):("0"+H)):H;break;case"k":p=G;break;case"l":p=z;break;case"m":p=(r<9)?("0"+(1+r)):(1+r);break;case"M":p=(v<10)?("0"+v):v;break;case"p":case"P":p=t?"PM":"AM";break;case"s":p=Math.floor(q.getTime()/1000);break;case"S":p=(A<10)?("0"+A):A;break;case"u":p=F+1;break;case"w":p=F;break;case"y":p=(""+C).substr(2,2);break;case"Y":p=C;break}u[x]=p}return u.join("")}function n(u){var q=c(u.target);if(q.hasClass("pmu-button")){if(q.hasClass("pmu-disabled")){return false}var v=c(this),y=v.data("pickmeup-options"),x=q.parents(".pmu-instance").eq(0),w=x.parent(),p=c(".pmu-instance",w).index(x),s=new Date(y.current),r;if(q.parent().is("nav")){if(q.hasClass("pmu-month")){s.addMonths(p-Math.floor(y.calendars/2));if(w.hasClass("pmu-view-years")){w.removeClass("pmu-view-years").addClass("pmu-view-days");q.text(o(s,"B, Y",y.locale))}else{if(w.hasClass("pmu-view-months")){if(y.select_year){w.removeClass("pmu-view-months").addClass("pmu-view-years");q.text((s.getFullYear()-6)+" - "+(s.getFullYear()+5))}else{w.removeClass("pmu-view-months").addClass("pmu-view-days");q.text(o(s,"B, Y",y.locale))}}else{if(w.hasClass("pmu-view-days")&&y.select_month){w.removeClass("pmu-view-days").addClass("pmu-view-months");q.text(s.getFullYear())}}}}else{var t=q.hasClass("pmu-prev");if(w.hasClass("pmu-view-years")){y.current.addYears(t?-12:12)}else{if(w.hasClass("pmu-view-months")){y.current.addYears(t?-1:1)}else{if(w.hasClass("pmu-view-days")){y.current.addMonths(t?-1:1)}}}}}else{if(!q.hasClass("pmu-disabled")){if(w.hasClass("pmu-view-years")){y.current.setFullYear(parseInt(q.text(),10));w.removeClass("pmu-view-years").addClass("pmu-view-months")}else{if(w.hasClass("pmu-view-months")){y.current.setMonth(x.find(".pmu-months .pmu-button").index(q));y.current.setFullYear(parseInt(x.find(".pmu-month").text(),10));y.current.addMonths(Math.floor(y.calendars/2)-p);w.removeClass("pmu-view-months").addClass("pmu-view-days")}else{r=parseInt(q.text(),10);s.addMonths(p-Math.floor(y.calendars/2));if(q.hasClass("pmu-not-in-month")){s.addMonths(r>15?-1:1)}s.setDate(r);switch(y.mode){case"multiple":r=(s.setHours(0,0,0,0)).valueOf();if(c.inArray(r,y.date)>-1){c.each(y.date,function(z,A){if(A==r){y.date.splice(z,1);return false}return true})}else{y.date.push(r)}break;case"range":if(!y.lastSel){y.date[0]=(s.setHours(0,0,0,0)).valueOf()}r=(s.setHours(23,59,59,0)).valueOf();if(r<y.date[0]){y.date[1]=y.date[0]+86399000;y.date[0]=r-86399000}else{y.date[1]=r}y.lastSel=!y.lastSel;break;default:y.date=s.valueOf();break}(function(z){if(v.is("input")){v.val(y.mode=="single"?z[0]:z[0].join(y.separator))}y.change.apply(this,z)})(g(y));if(y.hide_on_select&&(y.mode!="range"||!y.lastSel)){y.binded.hide();return false}}}}}y.binded.fill()}return false}function g(q){var p;if(q.mode=="single"){p=new Date(q.date);return[o(p,q.format,q.locale),p]}else{p=[[],[]];c.each(q.date,function(s,t){var r=new Date(t);p[0].push(o(r,q.format,q.locale));p[1].push(r)});return p}}function k(s){var q=this.pickmeup;if(s||!q.is(":visible")){var v=c(this),r=v.data("pickmeup-options"),w=v.offset(),p={l:document.documentElement.scrollLeft,t:document.documentElement.scrollTop,w:document.documentElement.clientWidth,h:document.documentElement.clientHeight},u=w.top,t=w.left;r.binded.fill();if(v.is("input")){v.pickmeup("set_date",a(v.val(),r.format,r.separator)).keydown(function(x){if(x.which==9){v.pickmeup("hide")}})}r.before_show();switch(r.position){case"top":u-=q.outerHeight();break;case"left":t-=q.outerWidth();break;case"right":t+=this.offsetWidth;break;case"bottom":u+=this.offsetHeight;break}if(u+q.offsetHeight>p.t+p.h){u=w.top-q.offsetHeight}if(u<p.t){u=w.top+this.offsetHeight+q.offsetHeight}if(t+q.offsetWidth>p.l+p.w){t=w.left-q.offsetWidth}if(t<p.l){t=w.left+this.offsetWidth}if(r.show()==false){return}q.css({display:"inline-block",top:u+"px",left:t+"px"});c(document).on("mousedown",r.binded.hide).on("resize",[true],r.binded.forced_show)}}function h(){k.call(this,true)}function e(r){if(!r||!r.target||(r.target!=this&&!(this.pickmeup.get(0).compareDocumentPosition(r.target)&16))){var p=this.pickmeup,q=c(this).data("pickmeup-options");if(q.hide()!=false){p.hide();c(document).off("mousedown",q.binded.hide).off("resize",q.binded.forced_show);q.date[1]=q.date[0];q.lastSel=false}}}function b(){var p=c(this).data("pickmeup-options");c(document).off("mousedown",p.binded.hide).off("resize",p.binded.forced_show);p.binded.forced_show()}function d(){var p=c(this).data("pickmeup-options");if(p.mode!="single"){p.date=[];p.binded.fill()}}function j(p){return g(c(this).data("pickmeup-options"))[p?0:1]}function i(q){var p=c(this).data("pickmeup-options");p.date=q;if(typeof p.date==="string"){p.date=a(p.date,p.format,p.separator).setHours(0,0,0,0)}else{if(p.date.constructor==Date){p.date.setHours(0,0,0,0)}}if(!p.date){p.date=new Date;p.date.setHours(0,0,0,0)}if(p.mode!="single"){if(p.date.constructor!=Array){p.date=[p.date.valueOf()];if(p.mode=="range"){p.date.push(((new Date(p.date[0])).setHours(23,59,59,0)).valueOf())}}else{for(var r=0;r<p.date.length;r++){p.date[r]=(a(p.date[r],p.format,p.separator).setHours(0,0,0,0)).valueOf()}if(p.mode=="range"){p.date[1]=((new Date(p.date[1])).setHours(23,59,59,0)).valueOf()}}}else{p.date=p.date.valueOf()}p.current=new Date(p.mode!="single"?p.date[0]:p.date);p.binded.fill()}c.fn.pickmeup=function(r){if(typeof r==="string"){var q,p=Array.prototype.slice.call(arguments,1);switch(r){case"hide":case"show":case"clear":case"update":this.each(function(){q=c(this).data("pickmeup-options");if(q){q.binded[r]()}});break;case"get_date":q=this.data("pickmeup-options");if(q){return q.binded.get_date(p[0])}else{return null}break;case"set_date":this.each(function(){q=c(this).data("pickmeup-options");if(q){q.binded[r].apply(this,p)}})}return this}return this.each(function(){var y=c(this);if(y.data("pickmeup-options")){return}var w,x,t=c.extend({},c.pickmeup,r||{});for(w in t){x=y.data("pmu-"+w);if(typeof x!=="undefined"){t[w]=x}}t.calendars=Math.max(1,parseInt(t.calendars,10)||1);t.mode=/single|multiple|range/.test(t.mode)?t.mode:"single";if(typeof t.min==="string"){t.min=a(t.min,t.format,t.separator).setHours(0,0,0,0)}else{if(t.min&&t.min.constructor==Date){t.min.setHours(0,0,0,0)}}if(typeof t.max==="string"){t.max=a(t.max,t.format,t.separator).setHours(23,59,59,0)}else{if(t.max&&t.max.constructor==Date){t.max.setHours(23,59,59,0)}}if(typeof t.date==="string"){t.date=a(t.date,t.format,t.separator).setHours(0,0,0,0)}else{if(t.date.constructor==Date){t.date.setHours(0,0,0,0)}}if(!t.date){t.date=new Date;t.date.setHours(0,0,0,0)}if(t.mode!="single"){if(t.date.constructor!=Array){t.date=[t.date.valueOf()];if(t.mode=="range"){t.date.push(((new Date(t.date[0])).setHours(23,59,59,0)).valueOf())}}else{for(w=0;w<t.date.length;w++){t.date[w]=(a(t.date[w],t.format,t.separator).setHours(0,0,0,0)).valueOf()}if(t.mode=="range"){t.date[1]=((new Date(t.date[1])).setHours(23,59,59,0)).valueOf()}}t.current=new Date(t.date[0])}else{t.date=t.date.valueOf();t.current=new Date(t.date)}t.current.setDate(1);t.current.setHours(0,0,0,0);var v,s=c(f.wrapper);this.pickmeup=s;if(t.class_name){s.addClass(t.class_name)}var u="";for(w=0;w<t.calendars;w++){v=t.first_day;u+=f.head({prev:t.prev,next:t.next,day:[t.locale.daysMin[(v++)%7],t.locale.daysMin[(v++)%7],t.locale.daysMin[(v++)%7],t.locale.daysMin[(v++)%7],t.locale.daysMin[(v++)%7],t.locale.daysMin[(v++)%7],t.locale.daysMin[(v++)%7]]})}y.data("pickmeup-options",t);for(w in t){if(c.inArray(w,["render","change","before_show","show","hide"])!=-1){t[w]=t[w].bind(this)}}t.binded={fill:m.bind(this),click:n.bind(this),show:k.bind(this),forced_show:h.bind(this),hide:e.bind(this),update:b.bind(this),clear:d.bind(this),get_date:j.bind(this),set_date:i.bind(this)};s.on("click",t.binded.click).addClass(l[t.view]).append(u).on(c.support.selectstart?"selectstart":"mousedown",function(z){z.preventDefault()});t.binded.fill();if(t.flat){s.appendTo(this).css({position:"relative",display:"inline-block"})}else{s.appendTo(document.body);y.on(t.trigger_event,t.binded.show)}})}})(jQuery);var bannerEditor=function(){};bannerEditor.prototype.i18n=new i18n();bannerEditor.prototype.parametersForm=null;bannerEditor.prototype.initParametersForm=function(){this.parametersForm=$("#parameters form").form({onSuccess:function(b){var a=parseInt($("#parameters").data("new-banner"));if(a){$("#parameters").attr("data-new-banner",0);$("#parameters input[name=id]").val(b.bannerId);if(history.pushState){history.pushState(null,null,"/banners/edit/id/"+b.bannerId)}$("#bannerEditorTabs").find("li.disabled").each(function(d,c){var e=$(c);e.removeClass("disabled");e.find("a").attr("data-toggle","tab")})}}})};bannerEditor.prototype.initDeliveryOptionsForm=function(){$("#frmDeliveryOptions").form({onBeforeSubmit:function(){$("#frmDeliveryOptions input[name=id]").val($("#parameters input[name=id]").val());$("#frmDeliveryOptions div.deleted").remove()}});$("#cmdAddNewOption").click(function(b){b.preventDefault();var c=$(this),a=$("#comboOptionTypes").val();$.get("/banners/deliveryOption?type="+a,function(d){c.closest(".form-group").after(d)})});$("#frmDeliveryOptions").on("click",".delete",function(c){c.preventDefault();var b=$(this);var a=b.find(".glyphicon");if(a.hasClass("glyphicon-trash")){a.removeClass("glyphicon-trash").addClass("glyphicon-refresh");b.closest(".deliveryOption").addClass("deleted")}else{a.removeClass("glyphicon-refresh").addClass("glyphicon-trash");b.closest(".deliveryOption").removeClass("deleted")}})};bannerEditor.prototype.initBannerZonesForm=function(){$("#frmBannerZones").form({onBeforeSubmit:function(){$("#frmBannerZones input[name=id]").val($("#parameters input[name=id]").val())}})};var videoBannerEditor=function(){videoBannerEditor.parent.constructor.apply(this,arguments)};videoBannerEditor.prototype={initParametersForm:function(){videoBannerEditor.parent.initParametersForm.apply(this,arguments);var b=this,a=this.parametersForm;$("#cmdAddEvent").click(function(){var c=$("#selAvailableEventList").val();b.addEvent(c)});$("#frmVideoBannerEvents").on("click",".trash",function(f){f.preventDefault();var d=$(this);var c=d.find(".glyphicon");if(c.hasClass("glyphicon-trash")){c.removeClass("glyphicon-trash").addClass("glyphicon-refresh");d.closest(".input-group").addClass("deleted")}else{c.removeClass("glyphicon-refresh").addClass("glyphicon-trash");d.closest(".input-group").removeClass("deleted")}});this.parametersForm.form("onBeforeSubmit",function(){if($("#mediaFileList tbody tr").length===0){alert(b.i18n.getMessage("You need to attach media file"));return false}$("#frmVideoBannerEvents .event.deleted").remove()});$("#cmdUpload input[type=file]").uploader({uploadHandlerUrl:"/banners/uploadmediafile",uploadHandlerParams:function(){return{id:a.find("input[name=id]").val(),campaign:a.find("input[name=campaign]").val()}},onbeforeupload:function(){this.$tr=$("<TR>").append($('<TD colspan="5">').append($('<div class="progress" style="margin: 0;">').append($('<div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="text-align: center;">0%</div>'))));$("#mediaFileList TBODY").prepend(this.$tr)},onprogress:function(d,e){var f=Math.ceil(d/e*100);var c=this.$tr.find(".progress");c.find(".progress-bar").css({width:f+"%"}).text(f+"%");if(100===f){setTimeout(function(){c.hide();c.find(".progress-bar").css({width:"0%"}).text("0%")},800)}},oninvalidfile:function(c){this.$tr.find(".progress").closest("TR").remove();switch(c){case this.VALIDATE_ERROR_FORMAT:alert(b.i18n.getMessage("Wrong file format"));break;case this.VALIDATE_ERROR_SIZE:alert(b.i18n.getMessage("Wrong file size"));break}},onerror:function(c){this.$tr.find(".progress").closest("TR").remove();alert(c)},onafterupload:function(){this.$tr.find(".progress").closest("TR").remove()},onsuccess:function(c){a.find("input[name=id]").val(c.bannerId);b.addMediaFile(c.url,c.delivery,c.id,c.size,c.type)},supportedFormats:["flv","mp4"],maxSize:10000000});$("#mediaFileList").on("click",".delete-media",function(d){d.preventDefault();var c=$(this);$.get(c.attr("href"),function(e){if(e.error==1){alert(e.errorMessage)}c.closest("TR").fadeOut(function(){$(this).remove()})})})},addMediaFile:function(a,e,d,b,c){if(!a){a=""}if(!e){e="progressive"}if(!d){d=""}$("#mediaFileList TBODY").prepend($("<tr/>").append([$('<td><a href="'+a+'">'+a+"</a></td>"),$("<td>"+e+"</td>"),$("<td>"+b+"</td>"),$("<td>"+c+"</td>"),$("<td>").append([$('<a href="/banners/deletemediafile?id='+d+'" class="delete-media">').append('<span class="glyphicon glyphicon-trash"></span>')])]))},addEvent:function(b,a){if(!b){throw Error("Event must be specified")}if(!a){a=""}return $('<div class="event input-group bottom-space"/>').append([$('<span class="input-group-addon" style="width: 150px;"/>').text(b),$('<input type="text" name="events['+b+'][]" class="form-control" value="'+a+'" />'),$('<span class="input-group-addon"/>').append($('<a href="javascript:void(0);" class="trash" />').append('<span class="glyphicon glyphicon-trash"/>'))]).insertAfter($("#cmdAddEvent").closest(".input-group"))},addMediaFileList:function(b){if(!b.length){return}for(var a in b){this.addMediaFile(b[a].url,b[a].delivery,b[a].id,b[a].size,b[a].type)}},addEventsList:function(c){if(!c){return}for(var a in c){for(var b in c[a]){this.addEvent(a,c[a][b])}}}};extend(videoBannerEditor,bannerEditor);var imageBannerEditor=function(){imageBannerEditor.parent.constructor.apply(this,arguments)};imageBannerEditor.prototype={initParametersForm:function(){imageBannerEditor.parent.initParametersForm.apply(this,arguments);var a=this.parametersForm;this.parametersForm.form("onSuccess",function(){$("#bannerImage").show().find("img").attr("src",a.find("input[name=imageUrl]").val())});$("#cmdUploadBannerImage").uploader({uploadHandlerUrl:"/banners/uploadimage",uploadHandlerParams:function(){return{id:a.find("input[name=id]").val(),campaign:a.find("input[name=campaign]").val()}},onprogress:function(c,d){var e=Math.ceil(c/d*100);var b=$("#cmdUploadBannerImage").closest(".form-group").find(".progress").show();b.find(".progress-bar").css({width:e+"%"}).text(e+"%");if(100===e){setTimeout(function(){b.hide();b.find(".progress-bar").css({width:"0%"}).text("0%")},800)}},onsuccess:function(b){$("input[name=id]",a).val(b.id);a.find("input[name=imageUrl]").val(b.imageUrl);$("#bannerImage").show().find("img").attr("src",b.imageUrl+"?"+Math.random())}})}};extend(imageBannerEditor,bannerEditor);var textPopupBannerEditor=function(){textPopupBannerEditor.parent.constructor.apply(this,arguments)};extend(textPopupBannerEditor,bannerEditor);var creepingLineBannerEditor=function(){creepingLineBannerEditor.parent.constructor.apply(this,arguments)};extend(creepingLineBannerEditor,bannerEditor);(function(){window.statApp={_options:null,init:function(b){this._options=b;var a=this;$("#menu a").click(function(c){c.preventDefault();a.handleMainMenuClick($(this))});$("#subMenu").on("click","a",function(c){c.preventDefault();a.handleSubMenuClick($(this))});$("#container").on("click",'a[href!="#"]',function(d){d.preventDefault();var c=$(this);a._loadPage(c.attr("href").substr(1))});this.calendar.init();this.calendar.subscribe(function(){a._loadPage(location.hash.substr(1))});this.handleMainMenuClick($("#menu a:first"))},handleMainMenuClick:function(a){$("#menu a").removeClass("active");a.addClass("active");this.subMenu.clear();this._loadPage(a.attr("href").substr(1))},handleSubMenuClick:function(a){$("#subMenu li").removeClass("active");a.closest("LI").addClass("active");this._loadPage(a.attr("href").substr(1))},_loadPage:function(a){location.hash=a;a="/"+a;$("#container").html('<img src="/images/prel.gif" style="margin: 10px;" />');$.get(Url(a).merge(this.calendar.getValue()).toString(),function(b){$("#container").html(b)},"html")}};window.statApp.calendar={_subscribers:[],init:function(){var a=this;$("#dateRange").pickmeup({mode:"range",calendars:3,format:"Y-m-d",hide_on_select:true,locale:statApp._options.calendar.locale,separator:" - ",change:function(c){$("#dateRange").text(c[0]+" - "+c[1]).data("query","dateFrom="+c[0]+"&dateTo="+c[1]);a._subscribers.map(function(d){if(typeof d==="function"){d.call(this)}})}});var b=$("#dateRange").text().split(" - ");$("#dateRange").data("query","dateFrom="+b[0]+"&dateTo="+b[1])},getValue:function(){return $("#dateRange").data("query")},subscribe:function(a){this._subscribers.push(a)}};window.statApp.subMenu={clear:function(){$("#subMenu").empty()},add:function(b,a){$("<LI>").append($("<A>").attr("href",b).text(a)).appendTo($("#subMenu"))},load:function(b){var a=this;$.get(b,function(c){for(var d in c.subMenu){var e=c.subMenu[d];a.add(e.url,e.caption)}window.statApp.handleSubMenuClick($("#subMenu a:first"))},"json")}}})();