function merge(){for(var a,b={},c=0;c<arguments.length;c++)for(a in arguments[c])b[a]=arguments[c][a];return b}function extend(a,b){var c=function(){};c.prototype=merge(b.prototype,a.prototype),a.prototype=new c,a.prototype.constructor=a,a.parent=b.prototype}if("undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",e.resetText||c.data("resetText",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]'),b=!0;if(a.length){var c=this.$element.find("input");"radio"===c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?b=!1:a.find(".active").removeClass("active")),b&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}b&&this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(jQuery),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});if(!e.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(jQuery),+function(a){"use strict";function b(){a(d).remove(),a(e).each(function(b){var d=c(a(this));d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown"))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){if("ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b),f.trigger(d=a.Event("show.bs.dropdown")),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown"),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=a("[role=menu] li:not(.divider):visible a",f);if(h.length){var i=h.index(h.filter(":focus"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu]",f.prototype.keydown)}(jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}else this.replaceArrow(j-f,j,"top");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(a(c).is("body")?window:c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top()),"function"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery);var i18n=function(a){this._messages=a||{},this.addMessages=function(a){this._messages=$.extend({},this._messages,a)},this.getMessage=function(a){return this._messages[a]||a}},TemplateEngine=function(){this.compile=function(a){return{render:function(b){var c=a;for(var d in b)c=c.replace("{{"+d+"}}",b[d]);return c}}}};$.fn.tableButtons=function(a){{var b=$(this),c=$.extend({},{deleteSignature:"delete",activateSignature:"activate"},a||{});new i18n(c.messages)}b.on("click",".status",function(a){a.preventDefault();var b=$(this);b.find(".glyphicon").removeClass("glyphicon-play glyphicon-pause").addClass("glyphicon-refresh"),$.get(b.attr("href"),function(a){return 1===a.error?void alert(a.errorMessage):void(b.hasClass("active")?(b.attr("href",b.attr("href").replace("suspend","activate")),b.removeClass("active").addClass("suspended"),b.find(".glyphicon").removeClass("glyphicon-refresh").addClass("glyphicon-pause")):(b.attr("href",b.attr("href").replace("activate","suspend")),b.removeClass("suspended").addClass("active"),b.find(".glyphicon").removeClass("glyphicon-refresh").addClass("glyphicon-play")))})}),b.on("click",".delete",function(a){a.preventDefault();var b=$(this),d=b.closest("TR");d.hasClass("deleted")?$.get(b.attr("href"),function(a){return 1===a.error?void alert(a.errorMessage):(b.attr("href",b.attr("href").replace(c.activateSignature,c.deleteSignature)),b.find(".glyphicon").removeClass("glyphicon-refresh").addClass("glyphicon-trash"),void d.removeClass("deleted"))}):$.get(b.attr("href"),function(a){return 1===a.error?void alert(a.errorMessage):(b.attr("href",b.attr("href").replace(c.deleteSignature,c.activateSignature)),b.find(".glyphicon").removeClass("glyphicon-trash").addClass("glyphicon-refresh"),void d.addClass("deleted"))})})},function(){window.Url=function(b){return new a(b)};var a=function(a){this._url=a};a.prototype={_url:null,_merge:function(){for(var a,b={},c=0;c<arguments.length;c++)for(a in arguments[c])b[a]=b[a]&&"object"==typeof arguments[c][a]?this._merge(b[a],arguments[c][a]):arguments[c][a];return b},_queryStringToArray:function(a){var b={},c=a.split("&"),d={};for(var e in c){var f=c[e].split("="),g=f[0],h=f[1],i=g.match(/([^=&]+?)\[(.*)\]/);if(i){var j=i[1],k=i[2].split("][");b[j]||(b[j]={},d[j]={});for(var l=b[j],m=0;m<k.length;m++){var n=k[m];n||(0===m?(d[j][m]||(d[j][m]=0),n=d[j][m]++):n=0),m===k.length-1?l[n]=h:(l[n]||(l[n]={}),l=l[n])}}else b[g]=h}return b},_queryArrayToString:function(a,b){var c=[];for(var d in a){var e,f=a[d];e=b?b+"["+d+"]":d,c.push("object"==typeof f?this._queryArrayToString(f,e):e+"="+f)}return c.join("&")},merge:function(a){if(!a)return this;var b,c,d=this._url.indexOf("?");return d>0?(c=this._queryStringToArray(this._url.substr(d+1)),b=this._url.substr(0,d)):(c={},b=this._url),"object"!=typeof a&&(a=this._queryStringToArray(a)),c=this._merge(c,a),this._url=b+"?"+this._queryArrayToString(c),this},toString:function(){return this._url}}}(),function(){var a=function(a,b){var c=this;this.form=a,this.events={beforeSubmit:[],success:[]},b||(b={}),this.options=$.extend({},{statusSelector:".status",showErrorDescription:!0,errorDescriptionMode:"text",preloaderCssClass:"prel",modelToFormFieldName:function(a){return a},onBeforeSubmit:null,onSuccess:null},b),b.onBeforeSubmit&&this.onBeforeSubmit(b.onBeforeSubmit),b.onSuccess&&this.onSuccess(b.onSuccess),a.submit(function(b){b.preventDefault(),$(".form-group.has-error",a).removeClass("has-error"),$(".form-group .text-danger",a).remove(),c.trigger("beforeSubmit")&&($(c.options.statusSelector,a).html("&nbsp;").addClass(c.options.preloaderCssClass),$.post(a.attr("action"),a.serialize(),function(b){if($(c.options.statusSelector,a).removeClass(c.options.preloaderCssClass),1!==b.error)"successMessage"in b&&c.setStatus(b.successMessage,5,"alert alert-success"),c.trigger("success",a,b);else{if(c.setStatus(b.errorMessage,null,"alert alert-danger"),!b.invalidated)return;var d,e;for(var f in b.invalidated){e=b.invalidated[f];var g=$("*[name="+c.options.modelToFormFieldName(f)+"]",a);d=[];for(var h in e)d.push(e[h]);g.closest(".form-group").addClass("has-error"),c.options.showErrorDescription&&("toolbox"===c.options.errorDescription?g.tooltip({title:d.join(", "),placement:"top",trigger:"manual"}).tooltip("show").keypress(function(){g.tooltip("destroy"),g.closest(".form-group").removeClass("has-error")
}):($('<div class="text-danger"></div>').text(d.join(", ")).insertAfter(g),g.keypress(function(){g.next(".text-danger").remove(),g.closest(".form-group").removeClass("has-error")})))}}},"json"))})};a.prototype={trigger:function(a,b,c){var d=this;if(b||(b=d),0===d.events[a].length)return!0;for(var e=!0,f=0;f<d.events[a].length;f++)!1===d.events[a][f].call(b,c)&&(e=!1);return e},onBeforeSubmit:function(a){"function"==typeof a&&this.events.beforeSubmit.push(a)},onSuccess:function(a){"function"==typeof a&&this.events.success.push(a)},setStatus:function(a,b,c){var d=$(this.options.statusSelector,this.form);return 0===d.length&&(d=$('<span class="status"></span>').insertAfter(this.form.find("input[type=submit]"))),d.html(a).show().removeClass().addClass("status"),c&&d.addClass(c),b?(setTimeout(function(){d.fadeOut()},1e3*b),this):this}},$.fn.form=function(){var b,c=this;if(0===arguments.length||"object"==typeof arguments[0])b=new a(c,0===arguments.length?null:arguments[0]),c.data("instance",b);else{if("isInitialized"===arguments[0])return!!c.data("instance");b=c.data("instance");var d=arguments[0],e=b[d];1===arguments.length?e.call(b):e.apply(b,Array.prototype.slice.call(arguments,1))}return this}}(),function(){window.modal=function(a,b){var c,d=$(a),e=d.data("modal-id"),f=$.extend({},{replaceEntireModal:!0},b);if(e)c=$("#"+e);else if(e="modal-"+Math.round(Math.random()*(new Date).getTime()),d.attr("data-target","#"+e),c=$('<div class="modal fade" role="dialog" aria-hidden="true" />').attr("id",e).attr("aria-labelledby",e).appendTo(document.body),f.replaceEntireModal||c.append($('<div class="modal-dialog"/>').append($('<div class="modal-content">').append([$("<div/>").addClass("modal-header").append([$('<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>'),$('<h4 class="modal-title">'+(d.attr("title")||"&nbsp;")+"</h4>")]),$("<div/>").addClass("modal-body"),$("<div/>").addClass("modal-footer")]))),"object"==typeof f)for(var g in f)switch(g){case"hide":case"hidden":case"show":case"shown":c.on(g,f[g])}$.get(d.attr("href"),function(a){f.replaceEntireModal?c.modal({remote:d.attr("href")}):(c.find(".modal-body").html(a),c.modal())})}}(),function(a){function b(){for(var a=new Date(this.toString()),b=28,c=a.getMonth();a.getMonth()==c;)++b,a.setDate(b);return b-1}a.addDays=function(a){this.setDate(this.getDate()+a)},a.addMonths=function(a){var c=this.getDate();this.setDate(1),this.setMonth(this.getMonth()+a),this.setDate(Math.min(c,b.apply(this)))},a.addYears=function(a){var c=this.getDate();this.setDate(1),this.setFullYear(this.getFullYear()+a),this.setDate(Math.min(c,b.apply(this)))},a.getDayOfYear=function(){var a=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0),b=new Date(this.getFullYear(),0,0,0,0,0),c=a-b;return Math.floor(c/24*60*60*1e3)}}(Date.prototype),function(a){function b(){var b,c,e,f,g,h,i,j,k=a(this).data("pickmeup-options"),l=this.pickmeup,m=Math.floor(k.calendars/2),n=0,p=(new Date).setHours(0,0,0,0).valueOf();l.find(".pmu-instance > :not(nav)").remove();for(var q=0;q<k.calendars;q++){b=new Date(k.current),j=l.find(".pmu-instance").eq(q),l.hasClass("pmu-view-years")?(b.addYears(12*(q-m)),e=b.getFullYear()-6+" - "+(b.getFullYear()+5)):l.hasClass("pmu-view-months")?(b.addYears(q-m),e=b.getFullYear()):l.hasClass("pmu-view-days")&&(b.addMonths(q-m),e=d(b,"B, Y",k.locale)),j.find(".pmu-month").text(e),f=b.getFullYear()-6,c={data:[],class_name:"pmu-years"};for(var r=0;12>r;r++)c.data.push(f+r);for(i=o.months(c),b.setDate(1),c=[],h=b.getMonth(),g=(b.getDay()-k.first_day)%7,b.addDays(-(g+(0>g?7:0))),n=0;42>n;){g={text:b.getDate(),class_name:[]},h!=b.getMonth()&&g.class_name.push("pmu-not-in-month"),0==b.getDay()?g.class_name.push("pmu-sunday"):6==b.getDay()&&g.class_name.push("pmu-saturday");var s=k.render(b)||{},t=b.valueOf(),u=k.min&&k.min>b||k.max&&k.max<b;!u&&(s.selected||k.date==t||a.inArray(t,k.date)>-1||"range"==k.mode&&t>=k.date[0]&&t<=k.date[1])&&g.class_name.push("pmu-selected"),t==p&&g.class_name.push("pmu-today"),(s.disabled||u)&&g.class_name.push("pmu-disabled"),s.class_name&&g.class_name.push(s.class_name),g.class_name=g.class_name.join(" "),c.push(g),b.addDays(1),n++}i=o.days(c)+i,c={data:k.locale.monthsShort,class_name:"pmu-months"},i=o.months(c)+i,j.append(i)}k.fill.apply(this)}function c(a,b,d){if(a.constructor==Date)return a;if(!a)return new Date;var e=a.split(d);if(e.length>1)return e.forEach(function(a,e,f){f[e]=c(a,b,d)}),e;for(var f,g,h,i,j,k=a.split(/\W+/),l=b.split(/\W+/),m=new Date,n=0;n<k.length;n++)switch(l[n]){case"d":case"e":f=parseInt(k[n],10);break;case"m":g=parseInt(k[n],10)-1;break;case"Y":case"y":h=parseInt(k[n],10),h+=h>100?0:29>h?2e3:1900;break;case"H":case"I":case"k":case"l":i=parseInt(k[n],10);break;case"P":case"p":/pm/i.test(k[n])&&12>i?i+=12:/am/i.test(k[n])&&i>=12&&(i-=12);break;case"M":j=parseInt(k[n],10)}return new Date(void 0===h?m.getFullYear():h,void 0===g?m.getMonth():g,void 0===f?m.getDate():f,void 0===i?m.getHours():i,void 0===j?m.getMinutes():j,0)}function d(a,b,c){var d=a.getMonth(),e=a.getDate(),f=a.getFullYear(),g=a.getDay(),h=a.getHours(),i=h>=12,j=i?h-12:h,k=a.getDayOfYear();0==j&&(j=12);for(var l,m=a.getMinutes(),n=a.getSeconds(),o=b.split(""),p=0;p<o.length;p++){switch(l=o[p]){case"a":l=c.daysShort[g];break;case"A":l=c.days[g];break;case"b":l=c.monthsShort[d];break;case"B":l=c.months[d];break;case"C":l=1+Math.floor(f/100);break;case"d":l=10>e?"0"+e:e;break;case"e":l=e;break;case"H":l=10>h?"0"+h:h;break;case"I":l=10>j?"0"+j:j;break;case"j":l=100>k?10>k?"00"+k:"0"+k:k;break;case"k":l=h;break;case"l":l=j;break;case"m":l=9>d?"0"+(1+d):1+d;break;case"M":l=10>m?"0"+m:m;break;case"p":case"P":l=i?"PM":"AM";break;case"s":l=Math.floor(a.getTime()/1e3);break;case"S":l=10>n?"0"+n:n;break;case"u":l=g+1;break;case"w":l=g;break;case"y":l=(""+f).substr(2,2);break;case"Y":l=f}o[p]=l}return o.join("")}function e(b){var c=a(b.target);if(c.hasClass("pmu-button")){if(c.hasClass("pmu-disabled"))return!1;var e,g=a(this),h=g.data("pickmeup-options"),i=c.parents(".pmu-instance").eq(0),j=i.parent(),k=a(".pmu-instance",j).index(i),l=new Date(h.current);if(c.parent().is("nav"))if(c.hasClass("pmu-month"))l.addMonths(k-Math.floor(h.calendars/2)),j.hasClass("pmu-view-years")?(j.removeClass("pmu-view-years").addClass("pmu-view-days"),c.text(d(l,"B, Y",h.locale))):j.hasClass("pmu-view-months")?h.select_year?(j.removeClass("pmu-view-months").addClass("pmu-view-years"),c.text(l.getFullYear()-6+" - "+(l.getFullYear()+5))):(j.removeClass("pmu-view-months").addClass("pmu-view-days"),c.text(d(l,"B, Y",h.locale))):j.hasClass("pmu-view-days")&&h.select_month&&(j.removeClass("pmu-view-days").addClass("pmu-view-months"),c.text(l.getFullYear()));else{var m=c.hasClass("pmu-prev");j.hasClass("pmu-view-years")?h.current.addYears(m?-12:12):j.hasClass("pmu-view-months")?h.current.addYears(m?-1:1):j.hasClass("pmu-view-days")&&h.current.addMonths(m?-1:1)}else if(!c.hasClass("pmu-disabled"))if(j.hasClass("pmu-view-years"))h.current.setFullYear(parseInt(c.text(),10)),j.removeClass("pmu-view-years").addClass("pmu-view-months");else if(j.hasClass("pmu-view-months"))h.current.setMonth(i.find(".pmu-months .pmu-button").index(c)),h.current.setFullYear(parseInt(i.find(".pmu-month").text(),10)),h.current.addMonths(Math.floor(h.calendars/2)-k),j.removeClass("pmu-view-months").addClass("pmu-view-days");else{switch(e=parseInt(c.text(),10),l.addMonths(k-Math.floor(h.calendars/2)),c.hasClass("pmu-not-in-month")&&l.addMonths(e>15?-1:1),l.setDate(e),h.mode){case"multiple":e=l.setHours(0,0,0,0).valueOf(),a.inArray(e,h.date)>-1?a.each(h.date,function(a,b){return b==e?(h.date.splice(a,1),!1):!0}):h.date.push(e);break;case"range":h.lastSel||(h.date[0]=l.setHours(0,0,0,0).valueOf()),e=l.setHours(23,59,59,0).valueOf(),e<h.date[0]?(h.date[1]=h.date[0]+86399e3,h.date[0]=e-86399e3):h.date[1]=e,h.lastSel=!h.lastSel;break;default:h.date=l.valueOf()}if(function(a){g.is("input")&&g.val("single"==h.mode?a[0]:a[0].join(h.separator)),h.change.apply(this,a)}(f(h)),h.hide_on_select&&("range"!=h.mode||!h.lastSel))return h.binded.hide(),!1}h.binded.fill()}return!1}function f(b){var c;return"single"==b.mode?(c=new Date(b.date),[d(c,b.format,b.locale),c]):(c=[[],[]],a.each(b.date,function(a,e){var f=new Date(e);c[0].push(d(f,b.format,b.locale)),c[1].push(f)}),c)}function g(b){var d=this.pickmeup;if(b||!d.is(":visible")){var e=a(this),f=e.data("pickmeup-options"),g=e.offset(),h={l:document.documentElement.scrollLeft,t:document.documentElement.scrollTop,w:document.documentElement.clientWidth,h:document.documentElement.clientHeight},i=g.top,j=g.left;switch(f.binded.fill(),e.is("input")&&e.pickmeup("set_date",c(e.val(),f.format,f.separator)).keydown(function(a){9==a.which&&e.pickmeup("hide")}),f.before_show(),f.position){case"top":i-=d.outerHeight();break;case"left":j-=d.outerWidth();break;case"right":j+=this.offsetWidth;break;case"bottom":i+=this.offsetHeight}if(i+d.offsetHeight>h.t+h.h&&(i=g.top-d.offsetHeight),i<h.t&&(i=g.top+this.offsetHeight+d.offsetHeight),j+d.offsetWidth>h.l+h.w&&(j=g.left-d.offsetWidth),j<h.l&&(j=g.left+this.offsetWidth),0==f.show())return;d.css({display:"inline-block",top:i+"px",left:j+"px"}),a(document).on("mousedown",f.binded.hide).on("resize",[!0],f.binded.forced_show)}}function h(){g.call(this,!0)}function i(b){if(!b||!b.target||b.target!=this&&!(16&this.pickmeup.get(0).compareDocumentPosition(b.target))){var c=this.pickmeup,d=a(this).data("pickmeup-options");0!=d.hide()&&(c.hide(),a(document).off("mousedown",d.binded.hide).off("resize",d.binded.forced_show),d.date[1]=d.date[0],d.lastSel=!1)}}function j(){var b=a(this).data("pickmeup-options");a(document).off("mousedown",b.binded.hide).off("resize",b.binded.forced_show),b.binded.forced_show()}function k(){var b=a(this).data("pickmeup-options");"single"!=b.mode&&(b.date=[],b.binded.fill())}function l(b){return f(a(this).data("pickmeup-options"))[b?0:1]}function m(b){var d=a(this).data("pickmeup-options");if(d.date=b,"string"==typeof d.date?d.date=c(d.date,d.format,d.separator).setHours(0,0,0,0):d.date.constructor==Date&&d.date.setHours(0,0,0,0),d.date||(d.date=new Date,d.date.setHours(0,0,0,0)),"single"!=d.mode)if(d.date.constructor!=Array)d.date=[d.date.valueOf()],"range"==d.mode&&d.date.push(new Date(d.date[0]).setHours(23,59,59,0).valueOf());else{for(var e=0;e<d.date.length;e++)d.date[e]=c(d.date[e],d.format,d.separator).setHours(0,0,0,0).valueOf();"range"==d.mode&&(d.date[1]=new Date(d.date[1]).setHours(23,59,59,0).valueOf())}else d.date=d.date.valueOf();d.current=new Date("single"!=d.mode?d.date[0]:d.date),d.binded.fill()}a.pickmeup=a.extend(a.pickmeup||{},{date:new Date,flat:!1,first_day:1,prev:"&#9664;",next:"&#9654;",mode:"single",select_year:!0,select_month:!0,view:"days",calendars:1,format:"d-m-Y",position:"bottom",trigger_event:"click",class_name:"",separator:" - ",hide_on_select:!1,min:null,max:null,render:function(){},change:function(){return!0},before_show:function(){return!0},show:function(){return!0},hide:function(){return!0},fill:function(){return!0},locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}});var n={years:"pmu-view-years",months:"pmu-view-months",days:"pmu-view-days"},o={wrapper:'<div class="pickmeup" />',head:function(a){for(var b="",c=0;7>c;++c)b+="<div>"+a.day[c]+"</div>";return'<div class="pmu-instance"><nav><div class="pmu-prev pmu-button">'+a.prev+'</div><div class="pmu-month pmu-button" /><div class="pmu-next pmu-button">'+a.next+'</div></nav><nav class="pmu-day-of-week">'+b+"</nav></div>"},days:function(a){for(var b="",c=0;42>c;++c)b+='<div class="'+a[c].class_name+' pmu-button">'+a[c].text+"</div>";return'<div class="pmu-days">'+b+"</div>"},months:function(a){for(var b="",c=0;12>c;++c)b+='<div class="pmu-button">'+a.data[c]+"</div>";return'<div class="'+a.class_name+'">'+b+"</div>"}};a.fn.pickmeup=function(d){if("string"==typeof d){var f,p=Array.prototype.slice.call(arguments,1);switch(d){case"hide":case"show":case"clear":case"update":this.each(function(){f=a(this).data("pickmeup-options"),f&&f.binded[d]()});break;case"get_date":return f=this.data("pickmeup-options"),f?f.binded.get_date(p[0]):null;case"set_date":this.each(function(){f=a(this).data("pickmeup-options"),f&&f.binded[d].apply(this,p)})}return this}return this.each(function(){var f=a(this);if(!f.data("pickmeup-options")){var p,q,r=a.extend({},a.pickmeup,d||{});for(p in r)q=f.data("pmu-"+p),"undefined"!=typeof q&&(r[p]=q);if(r.calendars=Math.max(1,parseInt(r.calendars,10)||1),r.mode=/single|multiple|range/.test(r.mode)?r.mode:"single","string"==typeof r.min?r.min=c(r.min,r.format,r.separator).setHours(0,0,0,0):r.min&&r.min.constructor==Date&&r.min.setHours(0,0,0,0),"string"==typeof r.max?r.max=c(r.max,r.format,r.separator).setHours(23,59,59,0):r.max&&r.max.constructor==Date&&r.max.setHours(23,59,59,0),"string"==typeof r.date?r.date=c(r.date,r.format,r.separator).setHours(0,0,0,0):r.date.constructor==Date&&r.date.setHours(0,0,0,0),r.date||(r.date=new Date,r.date.setHours(0,0,0,0)),"single"!=r.mode){if(r.date.constructor!=Array)r.date=[r.date.valueOf()],"range"==r.mode&&r.date.push(new Date(r.date[0]).setHours(23,59,59,0).valueOf());else{for(p=0;p<r.date.length;p++)r.date[p]=c(r.date[p],r.format,r.separator).setHours(0,0,0,0).valueOf();"range"==r.mode&&(r.date[1]=new Date(r.date[1]).setHours(23,59,59,0).valueOf())}r.current=new Date(r.date[0])}else r.date=r.date.valueOf(),r.current=new Date(r.date);r.current.setDate(1),r.current.setHours(0,0,0,0);var s,t=a(o.wrapper);this.pickmeup=t,r.class_name&&t.addClass(r.class_name);var u="";for(p=0;p<r.calendars;p++)s=r.first_day,u+=o.head({prev:r.prev,next:r.next,day:[r.locale.daysMin[s++%7],r.locale.daysMin[s++%7],r.locale.daysMin[s++%7],r.locale.daysMin[s++%7],r.locale.daysMin[s++%7],r.locale.daysMin[s++%7],r.locale.daysMin[s++%7]]});f.data("pickmeup-options",r);for(p in r)-1!=a.inArray(p,["render","change","before_show","show","hide"])&&(r[p]=r[p].bind(this));r.binded={fill:b.bind(this),click:e.bind(this),show:g.bind(this),forced_show:h.bind(this),hide:i.bind(this),update:j.bind(this),clear:k.bind(this),get_date:l.bind(this),set_date:m.bind(this)},t.on("click",r.binded.click).addClass(n[r.view]).append(u).on(a.support.selectstart?"selectstart":"mousedown",function(a){a.preventDefault()}),r.binded.fill(),r.flat?t.appendTo(this).css({position:"relative",display:"inline-block"}):(t.appendTo(document.body),f.on(r.trigger_event,r.binded.show))}})}}(jQuery);var bannerEditor=function(){};bannerEditor.prototype.i18n=new i18n,bannerEditor.prototype.parametersForm=null,bannerEditor.prototype.initParametersForm=function(){this.parametersForm=$("#parameters form").form({onSuccess:function(a){var b=parseInt($("#parameters").data("new-banner"));b&&($("#parameters").attr("data-new-banner",0),$("#parameters input[name=id]").val(a.bannerId),history.pushState&&history.pushState(null,null,"/banners/edit/id/"+a.bannerId),$("#bannerEditorTabs").find("li.disabled").each(function(a,b){var c=$(b);c.removeClass("disabled"),c.find("a").attr("data-toggle","tab")}))}})},bannerEditor.prototype.initDeliveryOptionsForm=function(){$("#frmDeliveryOptions").form({onBeforeSubmit:function(){$("#frmDeliveryOptions input[name=id]").val($("#parameters input[name=id]").val()),$("#frmDeliveryOptions div.deleted").remove()}}),$("#cmdAddNewOption").click(function(a){a.preventDefault();var b=$(this),c=$("#comboOptionTypes").val();$.get("/banners/deliveryOption?type="+c,function(a){b.closest(".form-group").after(a)})}),$("#frmDeliveryOptions").on("click",".delete",function(a){a.preventDefault();var b=$(this),c=b.find(".glyphicon");c.hasClass("glyphicon-trash")?(c.removeClass("glyphicon-trash").addClass("glyphicon-refresh"),b.closest(".deliveryOption").addClass("deleted")):(c.removeClass("glyphicon-refresh").addClass("glyphicon-trash"),b.closest(".deliveryOption").removeClass("deleted"))})},bannerEditor.prototype.initBannerZonesForm=function(){$("#frmBannerZones").form({onBeforeSubmit:function(){$("#frmBannerZones input[name=id]").val($("#parameters input[name=id]").val())}})};var videoBannerEditor=function(){videoBannerEditor.parent.constructor.apply(this,arguments)};videoBannerEditor.prototype={initParametersForm:function(){videoBannerEditor.parent.initParametersForm.apply(this,arguments);var a=this,b=this.parametersForm;$("#cmdAddEvent").click(function(){var b=$("#selAvailableEventList").val();a.addEvent(b)}),$("#frmVideoBannerEvents").on("click",".trash",function(a){a.preventDefault();var b=$(this),c=b.find(".glyphicon");c.hasClass("glyphicon-trash")?(c.removeClass("glyphicon-trash").addClass("glyphicon-refresh"),b.closest(".input-group").addClass("deleted")):(c.removeClass("glyphicon-refresh").addClass("glyphicon-trash"),b.closest(".input-group").removeClass("deleted"))}),this.parametersForm.form("onBeforeSubmit",function(){return 0===$("#mediaFileList tbody tr").length?(alert(a.i18n.getMessage("You need to attach media file")),!1):void $("#frmVideoBannerEvents .event.deleted").remove()}),$("#cmdUpload input[type=file]").uploader({uploadHandlerUrl:"/banners/uploadmediafile",uploadHandlerParams:function(){return{id:b.find("input[name=id]").val(),campaign:b.find("input[name=campaign]").val()}},onbeforeupload:function(){this.$tr=$("<TR>").append($('<TD colspan="5">').append($('<div class="progress" style="margin: 0;">').append($('<div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" style="text-align: center;">0%</div>')))),$("#mediaFileList TBODY").prepend(this.$tr)},onprogress:function(a,b){var c=Math.ceil(a/b*100),d=this.$tr.find(".progress");d.find(".progress-bar").css({width:c+"%"}).text(c+"%"),100===c&&setTimeout(function(){d.hide(),d.find(".progress-bar").css({width:"0%"}).text("0%")},800)},oninvalidfile:function(b){switch(this.$tr.find(".progress").closest("TR").remove(),b){case this.VALIDATE_ERROR_FORMAT:alert(a.i18n.getMessage("Wrong file format"));break;case this.VALIDATE_ERROR_SIZE:alert(a.i18n.getMessage("Wrong file size"))}},onerror:function(a){this.$tr.find(".progress").closest("TR").remove(),alert(a)},onafterupload:function(){this.$tr.find(".progress").closest("TR").remove()},onsuccess:function(c){b.find("input[name=id]").val(c.bannerId),a.addMediaFile(c.url,c.delivery,c.id,c.size,c.type)},supportedFormats:["flv","mp4"],maxSize:1e7}),$("#mediaFileList").on("click",".delete-media",function(a){a.preventDefault();var b=$(this);$.get(b.attr("href"),function(a){1==a.error&&alert(a.errorMessage),b.closest("TR").fadeOut(function(){$(this).remove()})})})},addMediaFile:function(a,b,c,d,e){a||(a=""),b||(b="progressive"),c||(c=""),$("#mediaFileList TBODY").prepend($("<tr/>").append([$('<td><a href="'+a+'">'+a+"</a></td>"),$("<td>"+b+"</td>"),$("<td>"+d+"</td>"),$("<td>"+e+"</td>"),$("<td>").append([$('<a href="/banners/deletemediafile?id='+c+'" class="delete-media">').append('<span class="glyphicon glyphicon-trash"></span>')])]))},addEvent:function(a,b){if(!a)throw Error("Event must be specified");return b||(b=""),$('<div class="event input-group bottom-space"/>').append([$('<span class="input-group-addon" style="width: 150px;"/>').text(a),$('<input type="text" name="events['+a+'][]" class="form-control" value="'+b+'" />'),$('<span class="input-group-addon"/>').append($('<a href="javascript:void(0);" class="trash" />').append('<span class="glyphicon glyphicon-trash"/>'))]).insertAfter($("#cmdAddEvent").closest(".input-group"))},addMediaFileList:function(a){if(a.length)for(var b in a)this.addMediaFile(a[b].url,a[b].delivery,a[b].id,a[b].size,a[b].type)},addEventsList:function(a){if(a)for(var b in a)for(var c in a[b])this.addEvent(b,a[b][c])}},extend(videoBannerEditor,bannerEditor);var imageBannerEditor=function(){imageBannerEditor.parent.constructor.apply(this,arguments)};imageBannerEditor.prototype={initParametersForm:function(){imageBannerEditor.parent.initParametersForm.apply(this,arguments);var a=this.parametersForm;this.parametersForm.form("onSuccess",function(){$("#bannerImage").show().find("img").attr("src",a.find("input[name=imageUrl]").val())}),$("#cmdUploadBannerImage").uploader({uploadHandlerUrl:"/banners/uploadimage",uploadHandlerParams:function(){return{id:a.find("input[name=id]").val(),campaign:a.find("input[name=campaign]").val()}},onprogress:function(a,b){var c=Math.ceil(a/b*100),d=$("#cmdUploadBannerImage").closest(".form-group").find(".progress").show();d.find(".progress-bar").css({width:c+"%"}).text(c+"%"),100===c&&setTimeout(function(){d.hide(),d.find(".progress-bar").css({width:"0%"}).text("0%")},800)},onsuccess:function(b){$("input[name=id]",a).val(b.id),a.find("input[name=imageUrl]").val(b.imageUrl),$("#bannerImage").show().find("img").attr("src",b.imageUrl+"?"+Math.random())}})}},extend(imageBannerEditor,bannerEditor);var textPopupBannerEditor=function(){textPopupBannerEditor.parent.constructor.apply(this,arguments)};extend(textPopupBannerEditor,bannerEditor);var creepingLineBannerEditor=function(){creepingLineBannerEditor.parent.constructor.apply(this,arguments)};extend(creepingLineBannerEditor,bannerEditor),function(){window.statApp={_options:null,init:function(a){this._options=a;var b=this;$("#menu a").click(function(a){a.preventDefault(),b.handleMainMenuClick($(this))}),$("#subMenu").on("click","a",function(a){a.preventDefault(),b.handleSubMenuClick($(this))}),$("#container").on("click",'a[href!="#"]',function(a){a.preventDefault();var c=$(this);b._loadPage(c.attr("href").substr(1))}),this.calendar.init(),this.calendar.subscribe(function(){b._loadPage(location.hash.substr(1))}),this.handleMainMenuClick($("#menu a:first"))},handleMainMenuClick:function(a){$("#menu a").removeClass("active"),a.addClass("active"),this.subMenu.clear(),this._loadPage(a.attr("href").substr(1))},handleSubMenuClick:function(a){$("#subMenu li").removeClass("active"),a.closest("LI").addClass("active"),this._loadPage(a.attr("href").substr(1))},_loadPage:function(a){location.hash=a,a="/"+a,$("#container").html('<img src="/images/prel.gif" style="margin: 10px;" />'),$.get(Url(a).merge(this.calendar.getValue()).toString(),function(a){$("#container").html(a)},"html")}},window.statApp.calendar={_subscribers:[],init:function(){var a=this;$("#dateRange").pickmeup({mode:"range",calendars:3,format:"Y-m-d",hide_on_select:!0,locale:statApp._options.calendar.locale,separator:" - ",change:function(b){$("#dateRange").text(b[0]+" - "+b[1]).data("query","dateFrom="+b[0]+"&dateTo="+b[1]),a._subscribers.map(function(a){"function"==typeof a&&a.call(this)})}});var b=$("#dateRange").text().split(" - ");$("#dateRange").data("query","dateFrom="+b[0]+"&dateTo="+b[1])},getValue:function(){return $("#dateRange").data("query")},subscribe:function(a){this._subscribers.push(a)}},window.statApp.subMenu={clear:function(){$("#subMenu").empty()},add:function(a,b){$("<LI>").append($("<A>").attr("href",a).text(b)).appendTo($("#subMenu"))},load:function(a){var b=this;$.get(a,function(a){for(var c in a.subMenu){var d=a.subMenu[c];b.add(d.url,d.caption)}window.statApp.handleSubMenuClick($("#subMenu a:first"))},"json")}}}();